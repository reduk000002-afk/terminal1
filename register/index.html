<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GL Биржа | Galardro - Фондовая платформа</title>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #0a0e17;
            --secondary: #1a2332;
            --accent: #2563eb;
            --accent-hover: #3b82f6;
            --text-primary: #f8fafc;
            --text-secondary: #cbd5e1;
            --text-muted: #64748b;
            --card-bg: #151f2e;
            --border-color: #2d3748;
            --profit: #10b981;
            --loss: #ef4444;
            --success: #10b981;
            --error: #ef4444;
            --warning: #f59e0b;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--primary);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        header {
            background-color: var(--primary);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid var(--border-color);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.7rem;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--accent), #3b82f6);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            font-size: 1.2rem;
        }

        .logo-text {
            display: flex;
            flex-direction: column;
        }

        .logo h1 {
            font-size: 1.5rem;
            font-weight: 700;
            line-height: 1.2;
        }

        .logo span {
            color: var(--accent);
        }

        .logo p {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        nav a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
            font-size: 1rem;
        }

        nav a:hover, nav a.active {
            color: var(--text-primary);
        }

        .header-buttons {
            display: flex;
            gap: 1rem;
        }

        .btn {
            padding: 0.7rem 1.5rem;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            font-size: 0.9rem;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-outline {
            background: transparent;
            border: 1px solid var(--accent);
            color: var(--accent);
        }

        .btn-primary {
            background-color: var(--accent);
            color: white;
        }

        .btn-outline:hover {
            background-color: rgba(37, 99, 235, 0.1);
        }

        .btn-primary:hover {
            background-color: var(--accent-hover);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .mobile-menu {
            display: none;
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Registration Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            padding: 1rem;
        }

        .modal-content {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 2rem;
            width: 100%;
            max-width: 450px;
            border: 1px solid var(--border-color);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            animation: modalSlide 0.3s ease;
            max-height: 90vh;
            overflow-y: auto;
        }

        @keyframes modalSlide {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .modal-header h2 {
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .close-modal {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.8rem;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
        }

        .close-modal:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .form-group {
            margin-bottom: 1.2rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .form-control {
            width: 100%;
            padding: 0.8rem 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            color: var(--text-primary);
            font-size: 1rem;
            transition: all 0.3s;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.2);
        }

        .form-control.error {
            border-color: var(--error);
        }

        .error-message {
            color: var(--error);
            font-size: 0.85rem;
            margin-top: 0.3rem;
            display: none;
        }

        .error-message.show {
            display: block;
        }

        .password-strength {
            font-size: 0.85rem;
            margin-top: 0.3rem;
            display: none;
        }

        .password-strength.show {
            display: block;
        }

        .password-strength.weak {
            color: var(--error);
        }

        .password-strength.medium {
            color: var(--warning);
        }

        .password-strength.strong {
            color: var(--success);
        }

        .modal-actions {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        .modal-actions .btn {
            flex: 1;
            padding: 0.9rem;
        }

        /* Checkbox для соглашения */
        .agreement-checkbox {
            margin: 1.5rem 0;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        .checkbox-group {
            display: flex;
            align-items: flex-start;
            gap: 0.8rem;
        }

        .checkbox-group input[type="checkbox"] {
            margin-top: 0.2rem;
            min-width: 18px;
            min-height: 18px;
            cursor: pointer;
        }

        .checkbox-group label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            line-height: 1.4;
            cursor: pointer;
        }

        .checkbox-group label a {
            color: var(--accent);
            text-decoration: none;
            border-bottom: 1px dotted var(--accent);
        }

        .checkbox-group label a:hover {
            border-bottom-style: solid;
        }

        /* Success Message */
        .success-message {
            display: none;
            text-align: center;
            padding: 2rem 0;
        }

        .success-icon {
            width: 80px;
            height: 80px;
            background: rgba(16, 185, 129, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            color: var(--success);
            font-size: 2rem;
        }

        .success-message h3 {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
        }

        .success-message p {
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .login-details {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 1.2rem;
            margin: 1.5rem 0;
            border-left: 4px solid var(--accent);
        }

        .login-details h4 {
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .login-details p {
            margin-bottom: 0.3rem;
        }

        /* Status Toast */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem 1.5rem;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            display: none;
            align-items: center;
            gap: 0.8rem;
            z-index: 1001;
            animation: toastSlide 0.3s ease;
            max-width: 400px;
        }

        @keyframes toastSlide {
            from {
                opacity: 0;
                transform: translateX(100%);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .toast.success {
            border-left: 4px solid var(--success);
        }

        .toast.error {
            border-left: 4px solid var(--error);
        }

        .toast.warning {
            border-left: 4px solid var(--warning);
        }

        .toast-icon {
            font-size: 1.2rem;
        }

        .toast.success .toast-icon {
            color: var(--success);
        }

        .toast.error .toast-icon {
            color: var(--error);
        }

        .toast.warning .toast-icon {
            color: var(--warning);
        }

        /* Main Content */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 60vh;
            padding: 2rem;
            text-align: center;
        }

        .welcome-section {
            max-width: 800px;
            margin: 0 auto;
            width: 100%;
        }

        .welcome-section h2 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(90deg, var(--accent), #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .welcome-section p {
            color: var(--text-secondary);
            font-size: 1.1rem;
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Mobile Auth Buttons */
        .mobile-auth-buttons {
            display: none;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            width: 100%;
            max-width: 400px;
            margin: 2rem auto 0;
        }

        .mobile-auth-buttons .btn {
            flex: 1;
            min-width: 140px;
            padding: 0.9rem 1.2rem;
            font-size: 1rem;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 3rem;
            width: 100%;
            max-width: 1000px;
        }

        .feature-card {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 1.5rem;
            border: 1px solid var(--border-color);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .feature-icon {
            width: 50px;
            height: 50px;
            background: rgba(37, 99, 235, 0.1);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
            color: var(--accent);
            font-size: 1.3rem;
        }

        .feature-card h3 {
            margin-bottom: 0.5rem;
        }

        .feature-card p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Footer */
        footer {
            background-color: var(--secondary);
            padding: 3rem 2rem 2rem;
            border-top: 1px solid var(--border-color);
            margin-top: auto;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-column h3 {
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column li {
            margin-bottom: 0.8rem;
        }

        .footer-column a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.3s;
            font-size: 0.9rem;
        }

        .footer-column a:hover {
            color: var(--text-primary);
        }

        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .social-link {
            width: 36px;
            height: 36px;
            background: var(--card-bg);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            transition: all 0.3s;
        }

        .social-link:hover {
            color: var(--accent);
            transform: translateY(-2px);
        }

        .copyright {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid var(--border-color);
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .policy-links {
            margin-top: 1rem;
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .policy-links a {
            color: var(--text-muted);
            text-decoration: none;
            font-size: 0.8rem;
            transition: color 0.3s;
        }

        .policy-links a:hover {
            color: var(--text-secondary);
            text-decoration: underline;
        }

        /* Модальное окно политики */
        .policy-modal-content {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 2rem;
            width: 100%;
            max-width: 900px;
            max-height: 85vh;
            border: 1px solid var(--border-color);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            animation: modalSlide 0.3s ease;
            overflow-y: auto;
        }

        .policy-content {
            margin-top: 1.5rem;
            max-height: 60vh;
            overflow-y: auto;
            padding-right: 0.5rem;
        }

        .policy-section {
            margin-bottom: 2rem;
        }

        .policy-section h3 {
            color: var(--accent);
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        .policy-section p, .policy-section ul {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.5;
            margin-bottom: 1rem;
        }

        .policy-section ul {
            padding-left: 1.5rem;
        }

        .policy-section li {
            margin-bottom: 0.5rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            header {
                padding: 1rem;
                position: relative;
            }
            
            nav ul {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: var(--card-bg);
                flex-direction: column;
                padding: 1rem;
                gap: 1rem;
                border-top: 1px solid var(--border-color);
                z-index: 99;
            }
            
            .mobile-menu {
                display: block;
            }
            
            .header-buttons {
                display: none;
            }

            .modal-content {
                padding: 1.5rem;
                margin: 1rem;
            }

            .policy-modal-content {
                padding: 1.5rem;
                margin: 1rem;
            }

            .welcome-section h2 {
                font-size: 2rem;
            }

            .welcome-section p {
                font-size: 1rem;
                padding: 0 1rem;
            }

            .mobile-auth-buttons {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
            }

            .features {
                grid-template-columns: 1fr;
                padding: 0 1rem;
            }

            .policy-links {
                gap: 1rem;
                flex-direction: column;
                align-items: center;
            }
        }

        @media (max-width: 480px) {
            .mobile-auth-buttons {
                flex-direction: column;
                gap: 0.8rem;
                width: 100%;
            }
            
            .mobile-auth-buttons .btn {
                width: 100%;
                max-width: 280px;
            }
            
            .welcome-section h2 {
                font-size: 1.8rem;
            }
            
            .modal-content {
                padding: 1.2rem;
            }
            
            .modal-actions {
                flex-direction: column;
            }
            
            .policy-modal-content {
                padding: 1.2rem;
            }
        }

        @media (min-width: 769px) {
            .mobile-auth-buttons {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="logo">
            <div class="logo-icon">GL</div>
            <div class="logo-text">
                <h1><span>Galardro</span> Exchange</h1>
                <p>Фондовая биржа</p>
            </div>
        </div>
        <nav>
            <ul>
                <li><a href="#" class="active">Главная</a></li>
                <li><a href="#features">Преимущества</a></li>
                <li><a href="#about">О платформе</a></li>
                <li><a href="https://tradegalardro.com/sapport1/" target="_blank">Поддержка</a></li>
            </ul>
        </nav>
        <div class="header-buttons">
            <a href="https://tradegalardro.com/" target="_blank" class="btn btn-outline">Войти</a>
            <button class="btn btn-primary" id="desktopRegisterBtn">Регистрация</button>
        </div>
        <div class="mobile-menu" id="mobileMenuToggle">
            <i class="fas fa-bars"></i>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="welcome-section">
            <h2>Инвестируйте в будущее с GL Биржей</h2>
            <p>Передовая фондовая платформа для торговли акциями, ETF и облигациями. Начните инвестировать сегодня с минимальным депозитом.</p>
            
            <!-- Кнопки авторизации для мобильных устройств -->
            <div class="mobile-auth-buttons">
                <a href="https://tradegalardro.com/" target="_blank" class="btn btn-outline">
                    <i class="fas fa-sign-in-alt"></i> Войти
                </a>
                <button class="btn btn-primary" id="mobileRegisterBtn">
                    <i class="fas fa-user-plus"></i> Регистрация
                </button>
            </div>
        </div>

        <div class="features" id="features">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <h3>Аналитика в реальном времени</h3>
                <p>Доступ к профессиональным графикам и аналитическим инструментам для принятия взвешенных решений.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <h3>Безопасность и надежность</h3>
                <p>Ваши средства и данные защищены многоуровневой системой безопасности и шифрования.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-mobile-alt"></i>
                </div>
                <h3>Мобильная торговля</h3>
                <p>Торгуйте с любого устройства через наше мобильное приложение или веб-платформу.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-headset"></i>
                </div>
                <h3>Круглосуточная поддержка</h3>
                <p>Наша команда поддержки всегда готова помочь вам с любыми вопросами 24/7.</p>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer id="support">
        <div class="footer-content">
            <div class="footer-column">
                <h3>GL Биржа</h3>
                <ul>
                    <li><a href="#about">О нас</a></li>
                    <li><a href="#features">Преимущества</a></li>
                    <li><a href="#news">Новости</a></li>
                    <li><a href="#partners">Партнеры</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Торговля</h3>
                <ul>
                    <li><a href="https://tradegalardro.com/" target="_blank">Акции</a></li>
                    <li><a href="https://tradegalardro.com/" target="_blank">ETF</a></li>
                    <li><a href="https://tradegalardro.com/" target="_blank">Облигации</a></li>
                    <li><a href="https://tradegalardro.com/" target="_blank">Фьючерсы</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Поддержка</h3>
                <ul>
                    <li><a href="https://tradegalardro.com/sapport1/" target="_blank">Центр помощи</a></li>
                    <li><a href="https://tradegalardro.com/sapport1/" target="_blank">Связаться с нами</a></li>
                    <li><a href="https://tradegalardro.com/sapport1/" target="_blank">Частые вопросы</a></li>
                    <li><a href="https://tradegalardro.com/sapport1/" target="_blank">Сообщество</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Социальные сети</h3>
                <div class="social-links">
                    <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-linkedin"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-telegram"></i></a>
                </div>
            </div>
        </div>
        <div class="policy-links">
            <a href="#" id="privacyPolicyLink">Политика конфиденциальности</a>
            <a href="#" id="userAgreementLink">Пользовательское соглашение</a>
            <a href="#" id="riskWarningLink">Предупреждение о рисках</a>
        </div>
        <div class="copyright">
            <p>&copy; 2023 GL Биржа (Galardro). Все права защищены.</p>
            <p style="margin-top: 0.5rem; font-size: 0.8rem;">GL Биржа является зарегистрированным брокер-дилером. Инвестиции сопряжены с рисками.</p>
        </div>
    </footer>

    <!-- Registration Modal -->
    <div class="modal-overlay" id="registerModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-user-plus"></i> Регистрация</h2>
                <button class="close-modal" id="closeModalBtn">&times;</button>
            </div>
            
            <div id="registrationForm">
                <div class="form-group">
                    <label for="email"><i class="fas fa-envelope"></i> Электронная почта</label>
                    <input type="email" id="email" class="form-control" placeholder="example@mail.com" required>
                    <div class="error-message" id="emailError"></div>
                </div>
                
                <div class="form-group">
                    <label for="password"><i class="fas fa-lock"></i> Пароль</label>
                    <input type="password" id="password" class="form-control" placeholder="Не менее 6 символов" required>
                    <div class="error-message" id="passwordError"></div>
                    <div class="password-strength" id="passwordStrength"></div>
                </div>
                
                <div class="form-group">
                    <label for="confirmPassword"><i class="fas fa-lock"></i> Подтверждение пароля</label>
                    <input type="password" id="confirmPassword" class="form-control" placeholder="Повторите пароль" required>
                    <div class="error-message" id="confirmPasswordError"></div>
                </div>
                
                <!-- Чекбокс соглашения -->
                <div class="agreement-checkbox">
                    <div class="checkbox-group">
                        <input type="checkbox" id="agreeTerms" required>
                        <label for="agreeTerms">
                            Я прочитал и согласен с 
                            <a href="#" id="showUserAgreementModal">Пользовательским соглашением</a>, 
                            <a href="#" id="showPrivacyPolicyModal">Политикой конфиденциальности</a> и 
                            <a href="#" id="showRiskWarningModal">Предупреждением о рисках</a>. 
                            Подтверждаю, что мне исполнилось 18 лет.
                        </label>
                    </div>
                    <div class="error-message" id="agreeTermsError"></div>
                </div>
                
                <div class="modal-actions">
                    <button class="btn btn-primary" id="registerBtn">
                        <i class="fas fa-user-plus"></i> Зарегистрироваться
                    </button>
                    <button class="btn btn-outline" id="cancelRegisterBtn">
                        <i class="fas fa-times"></i> Отмена
                    </button>
                </div>
            </div>
            
            <div id="successMessage" class="success-message">
                <div class="success-icon">
                    <i class="fas fa-check"></i>
                </div>
                <h3>Регистрация успешна!</h3>
                <p id="successText"></p>
                <div class="login-details" id="loginDetails">
                    <h4>Ваши данные для входа:</h4>
                    <p><strong>Email:</strong> <span id="registeredEmail"></span></p>
                    <p><strong>Пароль:</strong> указанный при регистрации</p>
                </div>
                <p style="margin-top: 1rem; color: var(--text-muted); font-size: 0.9rem;" id="emailInstruction">
                    Нажмите кнопку "Закончить регистрацию" в письме для входа в личный кабинет.
                </p>
                <button class="btn btn-primary" style="margin-top: 1.5rem;" id="finishRegistrationBtn">
                    <i class="fas fa-check"></i> Понятно
                </button>
            </div>
        </div>
    </div>

    <!-- Modal для политики соглашения -->
    <div class="modal-overlay" id="policyModal">
        <div class="policy-modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-file-contract"></i> Пользовательское соглашение</h2>
                <button class="close-modal" id="closePolicyModalBtn">&times;</button>
            </div>
            <div class="policy-content" id="policyContent">
                <!-- Контент политики будет загружен динамически -->
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast" id="toast">
        <div class="toast-icon">
            <i class="fas fa-info-circle"></i>
        </div>
        <div class="toast-message" id="toastMessage"></div>
    </div>

    <script>
        // ============================
        // ГЛОБАЛЬНЫЕ ПЕРЕМЕННЫЕ
        // ============================
        let supabaseClient = null;
        let isInitialized = false;

        // Конфигурация
        const SUPABASE_CONFIG = {
            URL: 'https://wkukgnkfbxgpvlraczeu.supabase.co',
            KEY: 'sb_publishable_11WBFNEcbspv1yDyfxq7sQ_Nl51ew5i'
        };

        // EmailJS конфигурация
        const EMAILJS_CONFIG = {
            SERVICE_ID: 'service_9eygn9l',
            TEMPLATE_ID: 'template_vjlrrud',
            PUBLIC_KEY: 'f7oQF7vPq4Cq-EDDh'
        };

        // Текст пользовательского соглашения
        const USER_AGREEMENT_TEXT = `
<div class="policy-section">
    <h3>1. Термины и определения</h3>
    <p>1.1 Данный документ, в дальнейшем именуемый Соглашение, использует следующие термины и определения:</p>
    <ul>
        <li><strong>«Аффилированное лицо»</strong> – по отношению к Компании означает любое юридическое лицо, контролируемое Компанией или контролирующее Компанию прямо или косвенно, а также любое юридическое лицо, находящееся под общим контролем с Компанией прямо или косвенно. Под «контролем» здесь следует понимать владение контрольным пакетом акций Компании или упомянутых выше юридических лиц.</li>
        <li><strong>«База котировок»</strong> – информация о Потоке котировок, которая хранится на Сервере Компании.</li>
        <li><strong>«Базовая валюта»</strong> – валюта, указанная первой в Валютной паре, по курсу обмена которой Клиент покупает или продает котируемую валюту.</li>
        <li><strong>«Баланс»</strong> – совокупный финансовый результат всех завершенных сделок и операций по денежным переводам, которые осуществляются по Торговому счету.</li>
        <li><strong>«Валюта Торгового счета»</strong> – валюта, которую выбрал Клиент в момент открытия Торгового счета.</li>
        <li><strong>«Валюта котировки»</strong> – валюта, указанная второй валюта в Валютной паре, которую Клиент покупает или продает для получения Базовой валюты.</li>
        <li><strong>«Валютная паар»</strong> – объект Торговой операции, который имеет в своей основе изменение стоимости одной валюты по отношению к другой валюте.</li>
        <li><strong>«Веб-сайт»</strong> — веб-сайт Компании, а также любой другой веб-сайт, который Компания признает официальным и который она может периодически поддерживать для доступа Клиентов.</li>
        <li><strong>«Данные Клиента»</strong> – любые данные, документация или иная информация, получаемая Компанией непосредственно от Клиента или иным образом относительно Клиента, его Счета, предоставления или использования им Услуг.</li>
        <li><strong>«Дата предоставления данных»</strong> – каждая из дат предоставления данных, которые оговорили стороны.</li>
        <li><strong>«Длинная позиция»</strong> – покупка Инструмента с расчетом на повышение курса. Или, применительно к Валютным парам, покупка Базовой валюты за Валюту котировки.</li>
        <li><strong>«Драгоценный металл» или «Металл спот»</strong> – наличные золото или серебро.</li>
        <li><strong>«Запрос котировки» или «Запрос»</strong> – инструкция Клиента в адрес Компании на получение котировки, которая не является обязательством Клиента совершить сделку.</li>
        <li><strong>«Индикативная котировка»</strong> – Котировка, по которой Компания вправе не принимать любые инструкции, не выполнять любые Ордера.</li>
        <li><strong>«Инструмент»</strong> – любые финансовые активы, предлагаемые Компанией для торговли: валютная пара, металлы спот, контракт на разницу и другие.</li>
        <li><strong>«Компания»</strong> – компания Lyardorpi</li>
        <li><strong>«Кредитное плечо» или «Соотношение между заемными и собственными средствами»</strong> – соотношение 1:25, 1:50, 1:100, 1:200, 1:500, 1:1000 и т.д между Первоначальной маржой и Объемом Торговой операции. Применительно к открытию позиции под соотношением 1:100 подразумевается, что размер Первоначальной маржи в сто раз меньше Объема Торговой операции. На веб-сайте Компании могут быть опубликованы и другие соотношения.</li>
        <li><strong>«Клиент»</strong> – любое отвечающее требованиям юридическое или физическое лицо, исключая физические лица, не достигшие восемнадцатилетнего возраста и лица без гражданства, которое заполнило Форму регистрации Клиента на веб-сайте Компании.</li>
        <li><strong>«Короткая позиция»</strong> – сделка по продаже валюты, прибыльная при падении рыночных цен. применительно к Валютным парам: курс продажи Базовой валюты относительно Валюты котировки.</li>
        <li><strong>«Котировка»</strong> – информация о текущем Курсе Инструмента, выраженная в виде цен Bid и Ask</li>
        <li><strong>«Курс»</strong> – применительно к Валютной паре означает стоимость единицы Базовой валюты, выраженную в Валюте котировки. Применительно к Драгоценному металлу означает цену за одну тройскую унцию Драгоценного металла, выраженную в валюте, которая предусмотрена для данного Инструмента в Спецификации контракта.</li>
        <li><strong>«Лог-файл клиентского терминала»</strong> – файл, который создает клиентский терминал и который протоколирует все запросы и распоряжения, отправленные Клиентом Компании, с точностью до секунды.</li>
        <li><strong>«Лог-файл сервера»</strong> – файл, который создает Сервер и который протоколирует все запросы и распоряжения, поступившие от Клиента Компании, а также результаты их обработки с точностью до секунды.</li>
        <li><strong>«Лот»</strong> – стандартная сумма сделки, величина объема Базовой валюты, тройских унций, Ценных бумаг, Драгоценного металла на Торговой платформе.</li>
        <li><strong>«Локированные позиции»</strong> – позиции одинакового объема Короткие и Длинные, включая любые торговые и неторговые операции, но не ограничиваясь таковыми, открытые Компанией по одному и тому же Инструменту на одном Торговом счете.</li>
        <li><strong>«Маржа» или «Залог»</strong> – указанные в Спецификации контракта по каждому Инструменту необходимые гарантийные фонды для поддержания Открытых позиций.</li>
        <li><strong>«Маржинальная торговля»</strong> – торговля валютами и другие срочные сделки на биржевом рынке, при которых Клиент может осуществлять Торговые операции. При этом допускается иметь существенно меньше средств на Торговом счете, чем необходимо, исходя из Объема Торговой операции.</li>
        <li><strong>«Неправомерный доход»</strong> – доход, полученный в результате наступления Случая неисполнения обязательств, нарушения любого из положений Нормативно-правовых документов или ошибочной котировки.</li>
        <li><strong>«Необходимая маржа»</strong> – требуемое Компанией денежное обеспечение для поддержания открытых позиций. Указана на Веб-сайте Компании в Спецификации контрактов для каждого Инструмента.</li>
        <li><strong>«Нормальные рыночные условия»</strong> – рынок, на котором не происходят существенные разрывы в Потоке котировок на Торговой платформе, а также быстрые движения цены и большие Ценовые разрывы.</li>
        <li><strong>«Объем Торговой операции»</strong> – умножение размера лота на число лотов.</li>
        <li><strong>«Оговоренная процедура»</strong> – любая процедура, имеющая отношение к Спорной ситуации и оговоренная между Сторонами, исключая Процедуру урегулирования Спорной ситуации, в которую Стороны имеют право вносить изменения.</li>
        <li><strong>«Ордер»</strong> – распоряжение Клиента совершить торговую операцию (например, открыть или закрыть позицию при достижении ценой уровня ордера).</li>
        <li><strong>«Открытая позиция»</strong> – Короткая или Длинная позиция, которая не является Полной законченной транзакцией.</li>
        <li><strong>«Ошибочные котировки»</strong> – котировки, которые поступили в Клиентский терминал из-за системной технической ошибки.</li>
        <li><strong>«Первоначальная маржа»</strong> – маржа, которая требуется Компания для открытия позиции.</li>
        <li><strong>«Плавающая прибыль», «Плавающий убыток»</strong> – текущие прибыль или убыток по Открытым позициям, которые исчисляются по текущим Котировкам.</li>
        <li><strong>«Поставщик ликвидности»</strong> – банк или электронная система купли-продажи биржевых товаров (ECN), которые предоставляют потоковые цены Компании. Могут быть использованы Компанией для хеджирования клиентских сделок.</li>
        <li><strong>«Поток котировок»</strong> – процесс поступления в Торговую платформу Котировок по каждому Инструменту.</li>
        <li><strong>«Размер лота»</strong> – торговые условия Компании, указанные в Спецификации контракта: количество Ценных бумаг, единиц Базовой валюты, базовых активов или тройских унций Драгоценного металла в одном Лоте.</li>
        <li><strong>«Рыночные условия, отличные от нормальных»</strong> – условия, которые отличаются от Обычных условий рынка низкой ликвидностью, ценовыми разрывами, быстрым изменением цен.</li>
        <li><strong>«Свободная маржа»</strong> – денежные средства на Торговом счете, которые можно использовать для открытия позиции. Исчисляется по формуле: Средства [минус] Необходимая маржа.</li>
        <li><strong>«Сервер»</strong> – программный продукт, который: ведет обработку клиентских запросов и распоряжений; предоставляет Клиенту информацию о торгах на финансовых рынках в режиме реального времени и в объеме, определенном Компанией; ведет учет взаимных обязательств между Клиентом и Компанией в соответствии с условиями Нормативно-правовых документов.</li>
        <li><strong>«Спецификация контракта»</strong> – основные торговые условия для Торговых инструментов: Размер лота, Спред, Первоначальная маржа, Хеджированная маржа и т. д. Отображается на Веб-сайте Компании.</li>
        <li><strong>«Спред»</strong> – выраженная в пунктах разница между Ценой Ask и Ценой Bid.</li>
        <li><strong>«Средства»</strong> – текущее состояние счета Клиента, определяемое по формуле: Баланс [плюс] Плавающая прибыль [минус] Плавающий убыток.</li>
        <li><strong>«Сторонний поставщик услуг»</strong> – юридическое лицо, которое будет выполнять все или часть операций по соответствующей позиции для обеих Сторон и которое этими Сторонами оговорено.</li>
        <li><strong>«Торговый счет»</strong> – уникальная персонифицированная система регистрации и учета всех торговых операций с финансовыми инструментами, совершаемых Клиентом: Полных законченных транзакций, Ордеров, Открытых позиций, сделок по депонированию или снятию средств в Торговой платформе и других движений денежных средств.</li>
        <li><strong>«Торговая операция» или «Сделка»</strong> – любая сделка, заключаемая самим Клиентом или от его имени в соответствии с Соглашением и Регламентами осуществления операций.</li>
        <li><strong>«Торговая платформа»</strong> – все технические средства и программы, предоставляемые Компанией, и состоящие из Сервера и Клиентского терминала, которые позволяют: осуществлять Торговые операции; получать Котировки в режиме реального времени; выставлять/ изменять/ удалять / оформлять Ордера и производить расчет всех взаимных обязательств, существующих между Клиентом и Компанией.</li>
        <li><strong>«Уровень маржи»</strong> – выраженное в процентах соотношение Средств к Необходимой марже. Рассчитывается по формуле: (Средства / Необходимая маржа) × 100%.</li>
        <li><strong>«Уровень ордера»</strong> – цена, обозначенная в Ордере.</li>
        <li><strong>«Услуги»</strong> – услуги, оказываемые Компанией Клиенту, указанные в Пункте 4 настоящего Соглашения.</li>
        <li><strong>«Форма регистрации клиента»</strong> – форма заполняемого Клиентом заявления, которую он должен заполнить в сервисе "Личный кабинет" на Веб-сайте Компании для регистрации.</li>
        <li><strong>«Форс-мажорные обстоятельства»</strong> – значение термина указано в Пункте 16 Соглашения.</li>
        <li><strong>«Хеджированная маржа»</strong> – достаточная для открытия и поддержания Позиций с противоположной направленностью маржа, требуемая Компанией. Подробное описание находится в Спецификации контрактов.</li>
        <li><strong>«Цена спроса» или «Ask»</strong> – более высокая цена Котировки, по которой Клиент может купить валюту.</li>
        <li><strong>«Цена предложения» или «Bid»</strong> – более низкая цена Котировки, по которой Клиент может продать валюту.</li>
        <li><strong>«Ценовой разрыв»</strong> означает:
            <ul>
                <li>Текущая Ask ниже, чем Bid по предыдущей Котировке; или</li>
                <li>Текущая Bid выше, чем Ask по предыдущей Котировке.</li>
            </ul>
        </li>
        <li><strong>«Stop Loss»</strong> – Торговый ордер, который может быть присоединен к открытой ранее позиции для ее закрытия по цене, менее выгодной для Клиента, чем текущая цена в момент размещения ордера.</li>
        <li><strong>«Stop Out»</strong> – генерируемое Сервером распоряжение на принудительное закрытие всех или части открытых ранее позиций. Закрытие производится в случае нехватки средств для поддержания Открытой позиции без согласия Клиента и его Предварительного уведомления об этом.</li>
        <li><strong>«Take Profit»</strong> – Торговый ордер, который может быть присоединен к открытой ранее позиции для ее закрытия по цене более выгодной для Клиента, чем текущая цена в момент размещения Ордера.</li>
    </ul>
</div>

<div class="policy-section">
    <h3>2. Общие положения</h3>
    <p>2.1 Данное Клиентское Соглашение (далее по тексту «Соглашение») заключается между Компанией и Клиентом.</p>
    <p>2.2 Под Компанией следует понимать Lyardorpi .</p>
    <p>2.3 Термины и Определения, употребляемые в Соглашении, указаны в Пункте 1 (далее «Термины и определения»).</p>
    <p>2.4 Соглашение представляет собой полный объем договоренностей Клиента и Компании в сочетании со следующими документами, указанными на Веб-сайте Компании в разделе «Договоры и регламенты», в которые могут периодически вноситься дополнения или изменения (далее совместно именуемые «Нормативно-правовые документы»): Регламент о торговых операциях, Регламенты об осуществлении операций, Регламент предоставления услуги «ПАММ-счет», Заявление о раскрытии рисков и другие Нормативно-правовые документы.</p>
    <p>2.5 Функция Нормативно-правовых документов – регулировать порядок осуществления всех торговых и неторговых операций Клиента в Компании. Они должны быть внимательно изучены Клиентом, поскольку содержат важную информацию, которую Компания обязана предоставить Клиенту в соответствии с применимыми положениями Закона.</p>
    <p>2.6 В Нормативно-правовых документах, включая периодически вносимые изменения и дополнения, изложены условия, на которых Компания вправе осуществлять с Клиентом сделки в отношении Инструментов.</p>
    <p>2.7 Компания применительно к каждой Торговой операции Клиента действует не как агент Клиента, а в качестве непосредственного участника договора. Поэтому Компания будет считать Клиента клиентом во всех отношениях, при этом Клиент обязан нести полную и непосредственную ответственность за исполнение обязательств по любой Торговой операции, осуществляемой им (при отсутствии иных договоренностей).</p>
    <p>2.8 Если Клиент действует от своего имени или в отношении какого-либо другого лица, независимо от того, раскрывает ли Клиент его личность или нет, Компания не будет считать вышеуказанное лицо косвенным клиентом и не будет нести какие-либо обязательства перед этим лицом (при отсутствии иных договоренностей).</p>
</div>

<div class="policy-section">
    <h3>3. Вступление в силу</h3>
    <p>3.1 Соглашение считается первоначальным соглашением об оказании услуг Клиенту Компанией, связанным с отдельными операциями или серией следующих друг за другом операций, включая Торговые операции с Инструментами.</p>
    <p>3.2 Настоящее Соглашение заключается в электронном виде и вступает в силу дистанционно. Клиент не вправе аннулировать Соглашение лишь на том основании, что оно является заключаемым дистанционно в электронном виде.</p>
    <p>3.3 Условия Нормативно-правовых документов признаются принятыми Клиентом безоговорочно в ту дату, когда Клиент в соответствии с Пунктом 4.1 получит уведомление от Компании и действуют до тех пор, пока по инициативе любой из Сторон не будут расторгнуты.</p>
</div>

<div class="policy-section">
    <h3>4. Активация Личного кабинета и Торгового счета</h3>
    <p>4.1 Личный кабинет Клиента будет активирован только после того, как:</p>
    <ol>
        <li>Компания получит от Клиента заполненную им Форму регистрации клиента;</li>
        <li>Клиент примет условия Нормативно-правовых документов;</li>
        <li>Компания проведет проверки идентификационных документов;</li>
        <li>Компания утвердит способы пополнения и вывода средств Клиентом;</li>
        <li>Компания уведомит Клиента об активации.</li>
    </ol>
    <p>4.2 Компания вправе по своему единоличному усмотрению отказать Клиенту в регистрации Личного кабинета на основании полученной от Клиента документации, даже если она заполнена Клиентом надлежащим образом и в полной мере.</p>
    <p>4.3 Для того, чтобы Клиент начал использовать свой Торговый счет, ему необходимо внести минимальный первоначальный взнос.</p>
    <p>4.4 После активации Личного кабинета и Торгового счета Клиент сможет в любое время видеть причитающуюся ему сумму как баланс счета в Личном кабинете и будет вправе по запросу снять ее.</p>
</div>

<div class="policy-section">
    <h3>5. Услуги</h3>
    <p>5.1 Услуги, предоставляемые Компанией Клиенту:</p>
    <ol>
        <li>инвестиционные: выполнение Ордеров Клиента касательно финансовых инструментов за свой счет, получение и передача заявок;</li>
        <li>с иностранной валютой: в связи с оказанием Инвестиционных услуг согласно Пункту 5.1_1) Соглашения;</li>
        <li>ответственного хранения и контроля за финансовыми инструментами: включая сопряженные, например, услуги по управлению денежным обеспечением, описанные в Пункте 7 Соглашения. Если применимо, оказываются за счет Клиента;</li>
        <li>по предоставлению Клиенту доступа к информации: об анализе его капиталовложений, а также любой другой информации, имеющей для Клиента значение в отношение его финансовых инструментов;</li>
        <li>по страхованию депозитов: счет должен быть застрахован от полной или частичной потери средств (если сумма запроса на вывод средств с открытыми сделками на счету клиента подвергает риску других пользователей при использовании маржинального плеча, если компания оповестила об изменении регламента страхования по почте клиента), по требованию регулирующего органа лицензиата компании;</li>
        <li>по легализации полученной Клиентом прибыли: помощь в открытии счета в зарубежном банке, регистрации офшорной компании для легализации доходов.</li>
        <li>по конвертации средств: при их выводе (за счет Клиента);</li>
    </ol>
    <p>5.2 Компания предоставляет Клиенту вышеуказанные Услуги при условии полного исполнения им обязательств Клиента, которые возникают в соответствии с Нормативно-правовыми документами и с учетом других прав Компании, предусмотренных Нормативно-правовыми документами. Компания предоставляет Клиенту возможность совершать операции, предусмотренные Соглашением и Нормативно-правовым документами, с использованием Инструментов Веб-сайта и возможностей Личного кабинета только в случае исполнения Клиентом всех обязательств по вышеуказанным документам.</p>
    <p>5.3 Компания осуществляет все Торговые операции с Клиентом по принципу «только исполнение». Компания вправе осуществлять Торговые операции, несмотря на то, что какая-либо из этих операций может быть невыгодной для Клиента.</p>
    <p>5.4 Компания имеет право предоставлять Клиенту, а Клиент вправе просить у Компании предоставления ему персональных рекомендаций и инвестиционных консультаций в отношении любых Торговых операций, а также мнений экспертов Компании, способных мотивировать Клиента к осуществлению какой-либо Торговой операции.</p>
    <p>5.5 Компания вправе предоставлять информацию и рекомендации по своему усмотрению и на периодической основе. Вышеуказанная информация может быть опубликована в качестве новостей на Веб-сайте Компании, предоставлена подписчикам в качестве рассылки через Веб-сайт или иным образом. Любые рекомендации или аналитические отчеты Компании могут быть опубликованы на одном или нескольких интерфейсах ее информационных служб. В этом случае:</p>
    <ol>
        <li>вышеуказанная информация предоставляется Клиенту исключительно для того, чтобы позволить ему принять собственные инвестиционные решения и не является инвестиционной рекомендацией или продвижением финансового продукта Компании, невостребованного Клиентом;</li>
        <li>Компания не предоставляет Клиенту никаких гарантий и заверений относительно налоговых последствий любой Торговой операции, а также относительно полноты и точности вышеуказанной информации;</li>
        <li>Компания не делает каких-либо заявлений относительно срока получения вышеуказанной информации Клиентом и не гарантирует, что он получит эту информацию в то же время, что и другие клиенты Компании.</li>
        <li>вышеуказанная информация, включая рыночные новости и комментарии, может быть изменена или удалена Компанией в любое время без уведомлений Клиента.</li>
        <li>информация не обязательно учитывает законы или соответствующие нормативно-правовые положения страны, резидентом которой является Клиент. Из этого следует, что в обязанности Клиента входит самостоятельное соблюдение вышеуказанных положений.</li>
        <li>если в любом документе Компании содержится какое-либо ограничение относительно лица или категории лиц, для которых этот документ не предназначен, Клиент обязуется не передавать этот документ любому вышеуказанному лицу или категории лиц;</li>
    </ol>
    <p>5.6 У Компании нет обязательств (при отсутствии иных указаний в Нормативно-правовых документах): по мониторингу любой Торговой операции Клиента или уведомлению Клиента о ее статусе; по закрытию любых Открытых позиций Клиента; по предъявлению маржинальных требований.</p>
    <p>5.7 Компания не обеспечивает физическую доставку Базового актива любого Инструмента относительно какой-либо Торговой операции. Прибыли или убытки Клиента от курсовых разниц при осуществлении какой-либо Торговой операции будут отражены на его Торговом счете сразу после того, как эта Торговая операция будет закрыта.</p>
    <p>5.8 Клиент обязан в достаточном объёме предоставлять информацию по запросу Компании о своем опыте и знаниях в области инвестиций, чтобы Компания могла оценить, подходит ли Клиенту та или иная услуга или продукт. Компания будет считать, что предоставленная Клиентом вышеуказанная информация является точной и не будет нести какую-либо ответственность перед Клиентом в том случае, если информация будет неполной или вводящей в заблуждение, а также в случае ее изменения или недостоверности (кроме случаев, когда Клиент уведомляет Компанию об этих изменениях).</p>
    <p>5.9 Клиент обязуется передать свои персональные данные по требованию Компании, зарегистрированной в качестве контроллера данных согласно Закону, в целях идентификации, в административных и деловых целях для исполнения своих правовых и договорных обязательств в соответствии с настоящим и другими соглашениями сторон. Необходимая информация и документы о Клиенте должны содержать его полное имя, дату и место рождения, адрес, юрисдикцию места проживания / регистрации, номер банковского счета. Клиент соглашается предоставить необходимые Компании данные с правом на их передачу юристам, аудиторам, финансовым консультантам и другим поставщикам услуг и контрагентам, с которыми Компания заключает договоры.</p>
    <p>5.10 Компания имеет право в любое время по своему усмотрению отказать Клиенту в предоставлении Услуг без объяснения причин. Клиент соглашается с тем, что Компания не обязана информировать его о причинах своего отказа, а также с тем, что Компания оставляет за собой право приостанавливать, отсрочивать, изменять условия оказания Услуг в случае появления Рыночных Условий, отличных от нормальных.</p>
    <p>5.11 Компания оставляет за собой право закрывать, приостанавливать или аннулировать любую Торговую операцию, если у нее есть подозрения в любой мошеннической или вводящей в заблуждение деятельности по счету (счетам) Клиента. К таким формам деятельности могут относиться, например, арбитражные сделки купли-продажи, манипулятивные действия, любая другая мошенническая деятельность, иным образом касающаяся или связанная с какими-либо Торговыми операциями. Также Компания оставляет за собой право закрывать, приостанавливать или аннулировать любую Торговую операцию, которая возникла в результате какой-либо технической ошибки или неверной конфигурации на Сервере. В этом случае Компания не будет нести ответственность за аннулирование Торговой операции или доходов и за ущерб или убытки, которые могут возникнуть в результате приостановки, закрытия, или аннулирования Торговой операции. Компания будет вправе вычитать любые доходы, которые она сочтет неправомерно полученными Клиентом, и начислять связанные с ними издержки.</p>
    <p>5.12 Все Запросы от Клиента будут рассмотрены Компанией с точки зрения их размера. Если размер Запроса больше, чем Компания может исполнить в данный момент в соответствии с текущими условиями рынка, по единоличному усмотрению Компании Ордер может быть отклонен или исполнен частично.</p>
    <p>5.13 Клиент принимает и подтверждает, что вся сохраненная в его Личном кабинете торговая и неторговая история будет доступна для просмотра и скачивания в любое время.</p>
    <p>5.14 В случае если клиент стал субъектом финансового мониторинга (блокировка кошелька по сети) средства по счету клиента проходят процесс снятия через банки респонденты обслуживающие криптографические смарт-контракты конвертации средств клиента в национальную валюту клиента после предоставления данных банка получателя компании.</p>
</div>

<div class="policy-section">
    <h3>6. Обмен информацией</h3>
    <p>6.1 Правила обмена информацией между Компанией и Клиентом изложены в Регламентах торговых операций, которые размещены на Веб-сайте Компании в разделе «Договоры и регламенты».</p>
    <p>6.2 Клиент согласен с тем, что он обязуется предоставлять Запросы и Распоряжения исключительно через Клиентский терминал в соответствии с вышеуказанными Регламентами торговых операций.</p>
</div>

<div class="policy-section">
    <h3>7. Комиссии и иные издержки</h3>
    <p>7.1 Компания обязуется отображать все действующие комиссии и иные издержки на странице «Спецификация контрактов», которая находится на Веб-сайте Компании в разделе «Торговые условия» и вправе вносить изменения в них без необходимости предоставления Клиенту предварительного Письменного уведомления. Надлежащим уведомлением о данных изменениях будет считаться сам факт их публикации на Веб-сайте Компании.</p>
    <p>7.2 Клиент обязан выплачивать Компании указанные выше комиссии, оплачивать все гербовые сборы, необходимые для осуществления Торговых операций и нести иные издержки, предусмотренные данным Соглашением и Нормативно-правовыми документами.</p>
    <p>7.3 Компания вправе отправлять, а Клиент соглашается получать уведомления в случае выплаты Компанией каких-либо комиссий или сборов любому третьему лицу, предоставившему Компании данного Клиента или действующему от его имени.</p>
    <p>7.4 Клиент несет личную ответственность за всю подаваемую им отчетность и налоговые декларации по любым Торговым операциям, которые подлежат предоставлению в любой соответствующий орган государственной или иной власти, а также за оплату им всех налогов, возникающих в связи с любой Торговой операцией, включая без ограничения налог на добавленную стоимость и налог на передачу ценных бумаг или собственности.</p>
    <p>7.5 Все средства Клиента хранятся на счетах Компании, в том числе на сегрегированных, открытых на имя Компании счетов для хранения Клиентских средств отдельно от своих.</p>
    <p>7.6 Компания не взимает комиссию за открытие и содержание счета.</p>
    <p>7.7 Компания не взымает комиссию за пополнение и снятие средств, комиссия может сниматься со стороны платежных систем которые используются клиентом.</p>
</div>

<div class="policy-section">
    <h3>8. Конфликт интересов и материальная заинтересованность</h3>
    <p>8.1 В случаях, когда Компания осуществляет сделки с Клиентом или от его имени, Компания, а также любое связанное или аффилированное с Компанией лицо может иметь заинтересованность или договоренности, существенные по отношению к рассматриваемой Торговой операции или возможно противоречащие интересам Клиента. В этих случаях Компания может:</p>
    <ol>
        <li>осуществлять сделки с Инструментами в качестве принципала за свой счет через покупку Инструмента у Клиента или продажу Инструмента Клиенту;</li>
        <li>осуществлять удерживание Длинной или Короткой позиции и другие сделки с любым Инструментом, который Компания предлагает Клиенту;</li>
        <li>согласовывать Торговые операции Клиента с ним самим или с другим клиентом, действуя от имени Клиента или от имени другого клиента;</li>
        <li>предоставлять консультации и оказывать различные услуги другим клиентам Компании или любым связанным с Компанией сторонам, которые могут быть заинтересованы в Базовых активах или инвестициях Клиента, при том, что таковая заинтересованность может конфликтовать с интересами Клиента;</li>
    </ol>
    <p>8.2 Клиент уполномочивает Компанию осуществлять без предварительного уведомления сделки от имени Клиента любым образом, который Компания сочтет подходящим, несмотря на какой-либо конфликт интересов или материальную заинтересованность сторон в Торговой операции;</p>
    <p>8.3 Сотрудники Компании обязаны соблюдать политику независимости и обязаны не учитывать любой конфликт интересов или материальную заинтересованность при предоставлении консультаций Клиенту.</p>
</div>

<div class="policy-section">
    <h3>9. Ограничение ответственности и возмещение убытков</h3>
    <p>9.1 Клиент признает, что Компания не несет ответственность за пользу предоставляемой информации, консультации или рекомендации. Клиент признает, что Компания не несет ответственность в размере любых расходов, убытков, затрат или ущерба, понесенных Клиентом в результате какой-либо неточности или ошибки в любой информации, предоставленной Клиенту, включая информацию, связанную с любыми Торговыми операциями, исключая такие убытки, которые Клиент понес в результате злонамеренных действий, мошенничества или грубой неосторожности со стороны Компании.</p>
    <p>9.2 С учетом того, что Компания имеет право на закрытие или аннулирование любой Торговой операции в обстоятельствах, указанных в Нормативно-правовых документах, эта Торговая операция после указанной в Пункте 9.1 ошибки или неточности, тем не менее, остается действительной и налагает обязательства во всех отношениях и на Компанию, и на Клиента.</p>
    <p>9.3 Компания не будет нести ответственность за любые понесенные Клиентом убытки или расходы, прямо или косвенно возникающие в связи с:</p>
    <ol>
        <li>проводимыми через Клиентский терминал Торговыми операциями;</li>
        <li>с любой задержкой, вызванной Клиентским терминалом, или любым сбоем в работе Торговой платформы;</li>
        <li>любым нарушением указанных в Нормативно-правовых документах обязательств Компании, произошедшим по независящим от нее причинам;</li>
        <li>неосторожностью или любыми другими действиями какого-либо третьего лица.</li>
    </ol>
    <p>9.3 По требованию Компании Клиент обязуется возмещать все затраты, расходы, обязательства или исковые требования, которые Компания несет в результате прямого или косвенного неисполнения Клиентом каких-либо обязательств, принятых им в соответствии с Нормативно-правовыми документами.</p>
    <p>9.4 Компания ни при каких обстоятельствах не будет нести перед Клиентом ответственность за упущенные им прибыль или выгоду (в том числе относительно последовательных движений на рынке), за любые прямые или косвенные убытки, затраты, расходы или ущерб, которые Клиент может понести в соответствии с Нормативно-правовыми документами, если иное не оговорено в Регламентах торговых операций.</p>
</div>

<div class="policy-section">
    <h3>10. Внесение изменений и расторжение Соглашения</h3>
    <p>10.1 Компания имеет право в одностороннем порядке вносить изменения в условия и положения Нормативно-правовых документов в любое время, о чем обязана предоставить Клиенту уведомление по электронной почте или опубликовать информацию о вышеуказанных изменениях на своем Веб-сайте.</p>
    <p>10.2 Каждая из сторон имеет право расторгнуть настоящее Соглашение, предоставив об этом Письменное уведомление второй стороне.</p>
    <p>10.3 При расторжении настоящего Соглашения Компания вправе прекратить предоставлять Клиенту доступ к Торговой платформе без его предварительного уведомления.</p>
    <p>10.4 При расторжении Соглашения все суммы, сборы и комиссии, которые Клиент обязан выплачивать Компании, будут подлежать немедленной оплате, включая (но не ограничиваясь):</p>
    <ol>
        <li>любые операционные расходы, которые Компания понесла в связи с расторжением настоящего Соглашения и в связи с переводом инвестиций Клиента в другую инвестиционную компанию;</li>
        <li>любые убытки и расходы, понесенные Компанией при при закрытии любых Торговых операций Клиента и при урегулировании или исполнении любых просроченных обязательств, принятых Компанией от имени Клиента.</li>
    </ol>
    <p>10.5 Компания вправе деактивировать счет Клиента без его предварительного уведомления в том случае, если Клиент размещает отклоняющееся от стандартного число ошибочных Запросов, которые создали чрезмерную нагрузку на серверы Компании и могут привести к отрицательному торговому опыту других клиентов, использующих эти серверы. К ошибочным запросам могут относиться, в том числе (но не ограничиваясь ими): большое число или превышающий допустимые значения объем Запросов, заявок с недостаточными средствами на счете Клиента, неверная обработка Торговых операций или системного журнала, не имеющие силы шаги или изменения.</p>
</div>

<div class="policy-section">
    <h3>11. Использование Торговой платформы и безопасность</h3>
    <p>11.1 При использовании Торговой платформы Клиент не вправе допускать такого результата действий или упущений, который может нарушить безопасность платформы или привести к ненадлежащей ее работе. Клиент не вправе совершать какие-либо действия, которые потенциально могут привести к несанкционированному доступу или к несоответствующему использованию Торговой платформы. Компания вправе по своему усмотрению прекратить или ограничить право доступа Клиента в Торговую платформу, если подозревает его в том, что он допустил таковое ее использование или попытался осуществить вышеуказанные действия.</p>
    <p>11.2 Клиент вправе анализировать, хранить, изменять, форматировать, отображать и распечатывать информацию, предоставляемую на Торговой платформе Компании. Клиент не вправе публиковать, воспроизводить или передавать каким-либо образом часть или всю информацию, предоставляемую на Торговой платформе Компании в каком-либо формате любому третьему лицу без согласия на то Компании. Клиент не вправе изменять, удалять или скрывать любые указания на торговые марки и авторские или любые другие права, представленные на Торговой платформе Компании.</p>
    <p>11.3 Клиент обязуется хранить в тайне и не раскрывать любые Данные доступа к Торговой платформе любому лицу. Клиент обязуется немедленно уведомить Компанию в том случае, если он заподозрит, что его Данные доступа могли быть раскрыты любому неуполномоченному на то лицу.</p>
    <p>11.4 Клиент обязуется оказывать Компании содействие в любой следственной деятельности Компании, которую она может осуществлять в связи с фактическим или предполагаемым ненадлежащим использованием его Данных доступа.</p>
    <p>11.5 Клиент признает, что Компания не будет нести ответственность в случае, если какие-либо неуполномоченные на то лица получат доступ к его личной информации, к которой также относятся: персональные данные, электронные адреса и переписка, когда эта информация передается через сеть Интернет или другие сетевые коммуникационные средства, по телефону или с использованием других электронных средств.</p>
    <p>11.6 Клиент признает, что несет всю ответственность за любые распоряжения или инструкции, передаваемые и предоставляемые Компании на основании его Данных доступа, а также, что любые вышеуказанные распоряжения или инструкции, будут считаться полученными Компанией от Клиента.</p>
    <p>11.7 Если Компания предполагает, что было совершено мошенничество, манипулятивные действия, своп-арбитраж или другая форма деятельности, вводящая в заблуждение относительно счета (счетов) Клиента в Компании или несанкционированная деятельность, иным образом связанная с любыми Торговыми операциями, то она вправе закрыть все открытые позиции Клиента и вправе добавить или вычесть пеню в размере, эквивалентном выручке от обмена и (или) доходов по всем Торговым операциям, осуществляемым в настоящее время и (или) ранее осуществленным по счету. При вышеуказанных предположениях Компания также вправе расторгнуть с Клиентом все соглашения, аннулировать все полученные в результате вышеуказанного доходы, отказать в принятии любых будущих Запросов от Клиента на освобождение от любых свопов.</p>
</div>

<div class="policy-section">
    <h3>12. Персональные данные и запись телефонных разговоров</h3>
    <p>12.1 Компания вправе использовать, хранить и обрабатывать персональные данные Клиента в связи с оказанием ему Услуг.</p>
    <p>12.2 Если Клиент – физическое лицо, то Компания обязана предоставлять Клиенту копию документа с его персональными данными по требованию Клиента и при условии оплаты им данной услуги (если таковая имеется в ее распоряжении).</p>
    <p>12.3 Клиент соглашается на передачу Компанией его данных любым третьим лицам для эффективного оказания Услуг или выполнения любой операционной функции, выполняемой в пользу Клиента (например, возмещение Клиенту его средств).</p>
    <p>12.4 Клиент соглашается с тем, что любые телефонные разговоры между ним и Компанией могут быть записаны, а записи останутся в исключительной собственности Компании и будут приняты Клиентом как заключительное доказательство его Распоряжений / Запросов или любых других телефонных разговоров с Компанией. Клиент признает, что Компания вправе предоставлять копии расшифровок вышеуказанных записей любому контролирующему органу, государственному органу, суду.</p>
</div>

<div class="policy-section">
    <h3>13. Согласие на прямой контакт</h3>
    <p>13.1 Клиент согласен с тем, что Компания вправе периодически напрямую связываться с Клиентом по телефону или с использованием иных средств связи в целях маркетинга ее продуктов или финансовых услуг.</p>
</div>

<div class="policy-section">
    <h3>14. Конфиденциальность и отказ</h3>
    <p>14.1 Информация о Клиенте, которой владеет Компания, носит конфиденциальный характер, поэтому не подлежит использованию в других целях, кроме как в целях оказания Услуг Компанией Клиенту. Конфиденциальная информация требует соответствующего обращения при условии, что она не находится в законной собственности Компании и в момент ее получения Компанией на нее не распространялось обязательство по соблюдению конфиденциальности или неразглашению, а также при условии, что информация не является общедоступной. Конфиденциальная Информация может быть раскрыта Компанией третьему лицу только в следующих случаях:</p>
    <ol>
        <li>по требованию судов, правоохранительных органов, контролирующих органов и подобных органов, в юрисдикции которых находится Компания или в соответствии с требованиями Закона.</li>
        <li>в целях предотвращения или расследования незаконной деятельности;</li>
        <li>когда вышеуказанная информация необходима Компании в целях запроса или оценки суммы кредита, в идентификационных целях, в целях сопутствующих оказанию Услуг, в целях администрирования Торгового счета Клиента;</li>
        <li>когда вышеуказанная информация необходима любому третьему лицу или сотрудникам Компании в связи с оказанием Услуг Клиенту и (или) исполнения своих служебных обязанностей в соответствии с Нормативно-правовыми документами;</li>
        <li>когда вышеуказанная информация запрашивается самим Клиентом или каким-либо иным лицом с согласия Клиента;</li>
        <li>когда вышеуказанная информация требуется юристам, консультантам или аудиторам Компании, при условии, что в каждом конкретном случае соответствующий специалист будет уведомлен о ее конфиденциальном характере и принял на себя указанные выше обязательства по неразглашению передаваемой ему конфиденциальной информации о Клиенте.</li>
        <li>когда вышеуказанная информация требуется для судебного разбирательства между Клиентом и Компанией</li>
        <li>когда вышеуказанная информация необходима для разрешения публичного спора между Клиентом и Компанией.</li>
    </ol>
</div>

<div class="policy-section">
    <h3>15. Неисполнение обязательств</h3>
    <p>15.1 Следующие события относятся к «Случаям неисполнения обязательств»:</p>
    <ol>
        <li>неисполнение Клиентом любого обязательства, указанного в Нормативно-правовых документах;</li>
        <li>непредставление Клиентом Первоначальной и (или) Хеджированной маржи или любой другой суммы, подлежащей оплате в соответствии с Нормативно-правовыми документами;</li>
        <li>если Клиент является физическим лицом, то инициирование любым третьим лицом судебных разбирательств по поводу его банкротства;</li>
        <li>если Клиент является юридическим лицом, то инициирование любым третьим лицом судебных разбирательств по поводу его ликвидации либо для назначения конкурсного управляющего или администратора в отношении Клиента и (или) любых активов Клиента;</li>
        <li>в случаях 3) и 4) Пункта 15.1 Соглашения если Клиент заключает мировое соглашение со своими кредиторами, а также, если происходит инициирование против Клиента любых процессуальных действий, которые аналогичны любым вышеуказанным действиям и процессам;</li>
        <li>если любое заявление или любая гарантия, исходящие от Клиента в соответствии с Пунктом 17 Соглашения являются или становятся ложными;</li>
        <li>если при наступлении срока погашения долгов перед Компанией Клиент не может их погасить;</li>
        <li>если Клиент, будучи физическим лицом, становится недееспособным ввиду психического расстройства или умирает;</li>
        <li>если Клиент предпринимает какие-либо попытки к действиям, определяемым Компанией как манипулятивные, мошенничество, своп-арбитраж или другая деятельность, вводящая в заблуждение или имеющая мошеннический характер на каких-либо счетах Клиента, открытых в Компании;</li>
        <li>если Клиент вел торговлю: которую можно отнести к категории рыночных махинаций, которая может быть охарактеризована как чрезмерная торговля с целью извлечения выгоды от изменений цен на рынке без законных намерений, с помощью арбитража или полагаясь на отставание цены;</li>
        <li>в случае наступления любых обстоятельств, когда Компания полагает, что предпочтительным решением является принятие любых мер, указанных в Пункте 18.5 настоящего Соглашения;</li>
    </ol>
    <p>15.2 При наступлении любого из Случаев неисполнения обязательств, указанных в Пункте 15.1 Компания вправе в любое время без предоставления предварительного письменного уведомления Клиенту принять любые из следующих мер:</p>
    <p>15.3 При торговле в режиме "Стандартный" допускаются операции без страховки. При переходе на уровень "VIP1" и выше пользователь обязан в обязательном порядке  оплатить страховку (1% от депозита) в течении 48 ч. При несоблюдении правил  биржа оставляет за собой право заморозить счет клиента в мерах безопасности</p>
    <ol>
        <li>закрыть любые или все части Открытых позиций Клиента по текущим Котировкам;</li>
        <li>закрыть любые или все части Торговых счетов Клиента в Компании;</li>
        <li>списать причитающиеся Компании суммы с Торгового счета Клиента;</li>
        <li>уменьшить Баланс Торгового счета Клиента на сумму доходов, полученных неправомерно;</li>
        <li>отказать Клиенту в открытии нового Торгового счета.</li>
    </ol>
</div>

<div class="policy-section">
    <h3>16. Форс-мажорные обстоятельства</h3>
    <p>16.1 Компания вправе определять по своему мотивированному усмотрению, произошло ли какое-либо Форс-мажорное обстоятельство. В случае, если Форс-мажорное обстоятельство произошло, Компания обязуется принять разумные меры по уведомлению об этом Клиента. К Форс-мажорным обстоятельствам относятся, не ограничиваясь ими:</p>
    <ol>
        <li>любые события, действия или случаи, которые по мотивированному усмотрению Компании не позволяют ей надлежащим образом поддерживать рыночные условия по Инструментам, включая (но не ограничиваясь): войны, забастовки, массовые и гражданские беспорядки, террористические акты, природные катастрофы, штормы, пожары, наводнения, несчастные случаи, обстоятельства непреодолимой силы, сбои в работе электронного или коммуникационного оборудования, сбои в подаче электроэнергии, сбои в работе поставщика, действия государственных органов, отказ работодателя обеспечить работой своих подчиненных;</li>
        <li>закрытие, приостановка или ликвидация любого рынка; ненаступление или отмена любого из событий, от которых зависят Котировки Компании; наложение ограничений, установление нестандартных или специальных условий торговли на любом из вышеуказанных рынков или при любом событии, указанном выше.</li>
    </ol>
    <p>16.2 Если Компания мотивировано полагает, что существует какое-либо Форс-мажорное обстоятельство, она вправе без предварительного Письменного уведомления Клиента и в любое время принимать любые из нижеуказанных мер, однако без причинения ущерба другим правам, возникающим в соответствии с Нормативно-правовыми документами:</p>
    <ol>
        <li>повышать маржинальные требования;</li>
        <li>закрывать Открытые позиции по ценам, которые Компания обоснованно сочтет подходящими;</li>
        <li>изменять, приостанавливать или замораживать применение любых условий Нормативно-правовых документов в той мере, в которой Форс-мажорные обстоятельства препятствуют или делают для Компании непрактичным их соблюдение;</li>
        <li>принимать любые другие меры, которые Компания обоснованно считает подходящими в обстоятельствах Форс-мажора в отношении положения Компании, Клиента и других клиентов или воздерживаться от принятия этих мер.</li>
    </ol>
</div>

<div class="policy-section">
    <h3>17. Отказ в удовлетворении претензии</h3>
    <p>17.1 Компания вправе отказать Клиенту в удовлетворении предъявленной им претензии.</p>
    <p>17.2 Если на Сервере проводились плановые технические работы, и Компания заранее уведомила об этом Клиента любым способом, то претензии, предъявляемые им в отношении любых невыполненных Распоряжений, отданных в период проведения вышеуказанных работ, не будут приняты. Факт, что Клиент не получил вышеуказанное уведомление не служит основанием для предъявления им претензии.</p>
    <p>17.3 Компанией не будут приняты к рассмотрению претензии, основанные на разнице между ценой базового актива Контракта на разницу и ценой исполнения Распоряжения или Ордера по Контракту на разницу.</p>
    <p>17.4 Не принимаются претензии относительно времени исполнения Ордера независимо от промежутка времени, потребовавшегося на его Ордера и независимо от времени, когда запись о его исполнении появилась в Лог-файле сервера, за исключением случаев, когда исполнение Ордера, поставленного в очередь, не было осуществлено в соответствии Регламентом торговых операций.</p>
    <p>17.5 Не принимаются претензии относительно аннулирования финансовых результатов Торговых операций, которые были совершены Клиентом на дополнительную маржу, образовавшуюся на Торговом счете в результате совершения прибыльной сделки по котировке, полученной им вследствие явной ошибки Компании и впоследствии ей отмененной или по нерыночной котировке.</p>
    <p>17.6 Клиент признает, что он не сможет контролировать открытые позиции или отдавать Распоряжения на открытие новых позиций в тот период времени, пока Спорная ситуация в отношении какой-либо оспариваемой позиции находится на рассмотрении Компанией, и что никакие претензии по данному вопросу не будут приняты.</p>
    <p>17.7 Компания вправе аннулировать любую Торговую операцию, если соответствующая хеджинговая торговля была аннулирована Поставщиком ликвидности и не принимать претензий от Клиента по данному обстоятельству.</p>
</div>

<div class="policy-section">
    <h3>18. Процедура урегулирования споров</h3>
    <p>18.1 При рассмотрении Спорных ситуаций любые ссылки Клиента на котировки других информационных систем и компаний не принимаются во внимание и считаются неправомерными.</p>
    <p>18.2 Клиент признает и принимает на себя все риски, связанные с тем, что Компания вправе не уведомлять его о том, что Спор был урегулирован, а оспариваемая позиция — восстановлена.</p>
    <p>18.3 По итогам урегулирования Спора Компания вправе исполнить ордер Take Profit или ордер Stop Loss оспариваемой позиции в зависимости от того, какой из этих ордеров был бы хронологически пересечен ценой первого, если бы позиция не была закрыта по причине возникновения спорной ситуации.</p>
    <p>18.4 При возникновении любой конфликтной ситуации, когда Клиент обоснованно полагает, что Компания в результате какого-либо своего действия или бездействия нарушила положения Нормативно-правовых документов, Клиент вправе предъявить Компании претензию в течение пяти рабочих дней с момента возникновения Спорной или конфликтной ситуации.</p>
    <p>18.5 В случае, если Сторонам не удается разрешить Споры путем переговоров, они передают такие Споры на рассмотрение суда республики Вануату после применения досудебного производства для разрешения таких Споров в соответствии с законодательством Вануату.</p>
</div>

<div class="policy-section">
    <h3>19. Признание рисков и уведомление о рисках</h3>
    <p>19.1 Клиент признает, что осознает существенность риска возникновения убытков и ущерба в результате покупки или продажи любого Инструмента и что он принимает на себя вышеуказанный риск.</p>
</div>

<div class="policy-section">
    <h3>20. Применимое право и юрисдикция</h3>
    <p>20.1 Положения Соглашения толкуются в соответствии с законами республики Вануату и регулируются ими.</p>
</div>
`;

        const PRIVACY_POLICY_TEXT = `
<div class="policy-section">
    <h3>Политика конфиденциальности</h3>
    <p>Настоящая Политика конфиденциальности описывает, как GL Биржа (Galardro Exchange) собирает, использует и защищает вашу личную информацию.</p>
    <p>Мы обязуемся защищать вашу конфиденциальность и обеспечивать безопасность ваших персональных данных.</p>
    <p>При регистрации на нашей платформе мы собираем следующую информацию:</p>
    <ul>
        <li>Адрес электронной почты</li>
        <li>Дату и время регистрации</li>
        <li>IP-адрес</li>
    </ul>
    <p>Мы используем ваши данные только для предоставления услуг платформы и никогда не передаем их третьим лицам без вашего согласия, за исключением случаев, предусмотренных законодательством.</p>
</div>
`;

        const RISK_WARNING_TEXT = `
<div class="policy-section">
    <h3>Предупреждение о рисках</h3>
    <p>Торговля на финансовых рынках связана с существенными рисками, включая возможную потерю всего инвестированного капитала.</p>
    <p>Перед началом торговли убедитесь, что вы полностью понимаете все связанные с этим риски.</p>
    <p>Основные риски включают:</p>
    <ul>
        <li>Рыночный риск - возможность убытков из-за изменения рыночных цен</li>
        <li>Кредитный риск - риск неисполнения обязательств контрагентом</li>
        <li>Операционный риск - риск технических сбоев и ошибок</li>
        <li>Валютный риск - риск изменения курсов валют</li>
    </ul>
</div>
`;

        // ============================
        // ГЛОБАЛЬНЫЕ ФУНКЦИИ
        // ============================

        // Инициализация приложений
        function initializeApplications() {
            try {
                // Инициализация Supabase
                supabaseClient = window.supabase.createClient(SUPABASE_CONFIG.URL, SUPABASE_CONFIG.KEY);
                console.log('✅ Supabase клиент инициализирован:', SUPABASE_CONFIG.URL);
                
                // Инициализация EmailJS
                emailjs.init(EMAILJS_CONFIG.PUBLIC_KEY);
                console.log('✅ EmailJS инициализирован');
                
                isInitialized = true;
                return true;
            } catch (error) {
                console.error('❌ Ошибка инициализации приложений:', error);
                showToast('Ошибка инициализации системы', 'error');
                return false;
            }
        }

        // Открытие модального окна регистрации
        function openRegisterModal() {
            try {
                const registerModal = document.getElementById('registerModal');
                registerModal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
                resetRegistrationForm();
            } catch (error) {
                console.error('Ошибка при открытии модального окна:', error);
                showToast('Не удалось открыть форму регистрации', 'error');
            }
        }

        // Закрытие модального окна регистрации
        function closeRegisterModal() {
            try {
                const registerModal = document.getElementById('registerModal');
                registerModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            } catch (error) {
                console.error('Ошибка при закрытии модального окна:', error);
            }
        }

        // Открытие модального окна политики
        function openPolicyModal(content, title = 'Пользовательское соглашение') {
            try {
                const policyModal = document.getElementById('policyModal');
                const policyContent = document.getElementById('policyContent');
                const modalHeader = policyModal.querySelector('.modal-header h2');
                
                modalHeader.innerHTML = `<i class="fas fa-file-contract"></i> ${title}`;
                policyContent.innerHTML = content;
                
                policyModal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            } catch (error) {
                console.error('Ошибка при открытии модального окна политики:', error);
            }
        }

        // Закрытие модального окна политики
        function closePolicyModal() {
            try {
                const policyModal = document.getElementById('policyModal');
                policyModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            } catch (error) {
                console.error('Ошибка при закрытии модального окна политики:', error);
            }
        }

        // Сброс формы регистрации
        function resetRegistrationForm() {
            try {
                document.getElementById('email').value = '';
                document.getElementById('password').value = '';
                document.getElementById('confirmPassword').value = '';
                document.getElementById('agreeTerms').checked = false;
                
                // Сброс ошибок
                document.querySelectorAll('.error-message').forEach(el => {
                    el.classList.remove('show');
                    el.textContent = '';
                });
                
                document.querySelectorAll('.form-control').forEach(el => {
                    el.classList.remove('error');
                });
                
                // Сброс индикатора силы пароля
                const passwordStrength = document.getElementById('passwordStrength');
                passwordStrength.classList.remove('show', 'weak', 'medium', 'strong');
                passwordStrength.textContent = '';
                
                // Показываем форму, скрываем успешное сообщение
                document.getElementById('registrationForm').style.display = 'block';
                document.getElementById('successMessage').style.display = 'none';
            } catch (error) {
                console.error('Ошибка при сбросе формы:', error);
            }
        }

        // Показать ошибку в форме
        function showError(inputId, message) {
            const input = document.getElementById(inputId);
            const errorElement = document.getElementById(inputId + 'Error');
            
            if (input && errorElement) {
                input.classList.add('error');
                errorElement.textContent = message;
                errorElement.classList.add('show');
            }
        }

        // Скрыть все ошибки
        function hideAllErrors() {
            document.querySelectorAll('.error-message').forEach(el => {
                el.classList.remove('show');
                el.textContent = '';
            });
            
            document.querySelectorAll('.form-control').forEach(el => {
                el.classList.remove('error');
            });
        }

        // Проверка сложности пароля
        function checkPasswordStrength(password) {
            const strengthElement = document.getElementById('passwordStrength');
            
            if (!password) {
                strengthElement.classList.remove('show', 'weak', 'medium', 'strong');
                return 0;
            }
            
            let score = 0;
            
            // Длина пароля
            if (password.length >= 8) score++;
            if (password.length >= 12) score++;
            
            // Содержит цифры
            if (/\d/.test(password)) score++;
            
            // Содержит буквы в разных регистрах
            if (/[a-z]/.test(password) && /[A-Z]/.test(password)) score++;
            
            // Содержит специальные символы
            if (/[^A-Za-z0-9]/.test(password)) score++;
            
            strengthElement.classList.add('show');
            
            if (score <= 2) {
                strengthElement.textContent = 'Слабый пароль';
                strengthElement.className = 'password-strength show weak';
                return 1;
            } else if (score <= 4) {
                strengthElement.textContent = 'Средний пароль';
                strengthElement.className = 'password-strength show medium';
                return 2;
            } else {
                strengthElement.textContent = 'Сильный пароль';
                strengthElement.className = 'password-strength show strong';
                return 3;
            }
        }

        // Валидация формы
        function validateRegistrationForm() {
            hideAllErrors();
            
            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const agreeTerms = document.getElementById('agreeTerms').checked;
            
            let isValid = true;
            
            // Валидация email
            if (!email) {
                showError('email', 'Введите email');
                isValid = false;
            } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                showError('email', 'Введите корректный email');
                isValid = false;
            }
            
            // Валидация пароля
            if (!password) {
                showError('password', 'Введите пароль');
                isValid = false;
            } else if (password.length < 6) {
                showError('password', 'Пароль должен быть не менее 6 символов');
                isValid = false;
            }
            
            // Проверка сложности пароля
            checkPasswordStrength(password);
            
            // Подтверждение пароля
            if (!confirmPassword) {
                showError('confirmPassword', 'Подтвердите пароль');
                isValid = false;
            } else if (password !== confirmPassword) {
                showError('confirmPassword', 'Пароли не совпадают');
                isValid = false;
            }
            
            // Проверка согласия с условиями
            if (!agreeTerms) {
                showError('agreeTerms', 'Необходимо согласиться с условиями');
                isValid = false;
            }
            
            return isValid;
        }

        // Генерация логина из email
        function generateLoginFromEmail(email) {
            return email.toLowerCase().trim();
        }

        // Показать уведомление
        function showToast(message, type = 'success') {
            try {
                const toast = document.getElementById('toast');
                const toastMessage = document.getElementById('toastMessage');
                const toastIcon = toast.querySelector('.toast-icon i');
                
                if (!toast || !toastMessage) return;
                
                toastMessage.textContent = message;
                toast.className = `toast ${type}`;
                
                // Устанавливаем иконку в зависимости от типа
                if (toastIcon) {
                    if (type === 'success') {
                        toastIcon.className = 'fas fa-check-circle';
                    } else if (type === 'error') {
                        toastIcon.className = 'fas fa-exclamation-circle';
                    } else if (type === 'warning') {
                        toastIcon.className = 'fas fa-exclamation-triangle';
                    } else {
                        toastIcon.className = 'fas fa-info-circle';
                    }
                }
                
                toast.style.display = 'flex';
                
                // Автоматическое скрытие
                setTimeout(() => {
                    toast.style.display = 'none';
                }, 5000);
            } catch (error) {
                console.error('Ошибка при показе уведомления:', error);
            }
        }

        // Проверка существования пользователя
        async function checkUserExists(email) {
            try {
                if (!supabaseClient || !isInitialized) {
                    throw new Error('Supabase клиент не инициализирован');
                }
                
                const { data, error } = await supabaseClient
                    .from('app_users')
                    .select('email')
                    .eq('email', email)
                    .limit(1);
                
                if (error) {
                    console.error('Ошибка при проверке пользователя:', error);
                    throw error;
                }
                
                return data && data.length > 0;
            } catch (error) {
                console.error('Ошибка в checkUserExists:', error);
                throw error;
            }
        }

        // Регистрация пользователя - ИСПРАВЛЕННАЯ ВЕРСИЯ
        async function registerUser() {
            if (!validateRegistrationForm()) {
                showToast('Пожалуйста, исправьте ошибки в форме', 'error');
                return;
            }
            
            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('password').value;
            const userKey = generateLoginFromEmail(email);
            
            const registerBtn = document.getElementById('registerBtn');
            const originalText = registerBtn.innerHTML;
            
            // Блокируем кнопку
            registerBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Регистрация...';
            registerBtn.disabled = true;
            
            try {
                // Проверяем инициализацию
                if (!supabaseClient || !isInitialized) {
                    throw new Error('Система не инициализирована. Пожалуйста, обновите страницу.');
                }
                
                console.log('🔄 Начинаем регистрацию для:', email);
                
                // 1. Проверяем существование пользователя
                console.log('🔄 Проверяем существующего пользователя...');
                const userExists = await checkUserExists(email);
                
                if (userExists) {
                    showToast('Пользователь с таким email уже существует', 'error');
                    registerBtn.innerHTML = originalText;
                    registerBtn.disabled = false;
                    return;
                }
                
                console.log('✅ Пользователь не найден, продолжаем...');
                
                // 2. Подготавливаем данные для Supabase - УБРАНА ПРОБЛЕМНАЯ КОЛОНКА agreed_at
                const userData = {
                    user_key: userKey,
                    password: password,
                    email: email,
                    created: new Date().toISOString(),
                    balance: '0.00',
                    level: 'Стандарт',
                    email_sent: false,
                    email_sent_at: null,
                    agreed_to_terms: true
                    // Колонка agreed_at удалена, так как её нет в таблице
                };
                
                console.log('🔄 Отправляем данные в Supabase:', userData);
                
                // 3. Сохраняем в БД
                const { data: newUser, error: insertError } = await supabaseClient
                    .from('app_users')
                    .insert([userData])
                    .select();
                
                if (insertError) {
                    console.error('❌ Ошибка Supabase при сохранении:', insertError);
                    
                    // Более детальная обработка ошибки
                    if (insertError.message && insertError.message.includes('agreed_at')) {
                        throw new Error('Ошибка структуры базы данных: колонка agreed_at не найдена. Пожалуйста, обратитесь к администратору.');
                    } else {
                        throw new Error(`Ошибка базы данных: ${insertError.message || 'Неизвестная ошибка'}`);
                    }
                }
                
                console.log('✅ Данные сохранены в Supabase:', newUser);
                
                // 4. Отправляем письмо через EmailJS
                let emailSent = false;
                let emailError = null;
                
                try {
                    console.log('🔄 Отправляем письмо через EmailJS...');
                    
                    const emailParams = {
                        to_email: email,
                        login_url: 'https://tradegalardro.com/',
                        email: email,
                        registration_date: new Date().toLocaleDateString('ru-RU')
                    };
                    
                    console.log('📧 Параметры письма:', emailParams);
                    
                    const emailResult = await emailjs.send(
                        EMAILJS_CONFIG.SERVICE_ID,
                        EMAILJS_CONFIG.TEMPLATE_ID,
                        emailParams
                    );
                    
                    console.log('✅ Письмо отправлено успешно:', emailResult);
                    emailSent = true;
                    
                    // Обновляем статус в БД
                    try {
                        await supabaseClient
                            .from('app_users')
                            .update({ 
                                email_sent: true,
                                email_sent_at: new Date().toISOString()
                            })
                            .eq('email', email);
                    } catch (updateError) {
                        console.warn('Не удалось обновить статус отправки письма:', updateError);
                    }
                    
                } catch (emailErr) {
                    console.error('❌ Ошибка отправки письма:', emailErr);
                    emailError = emailErr;
                    emailSent = false;
                }
                
                // 5. Показываем результат пользователю
                document.getElementById('registrationForm').style.display = 'none';
                document.getElementById('successMessage').style.display = 'block';
                
                // Заполняем данные в успешном сообщении
                document.getElementById('registeredEmail').textContent = email;
                
                if (emailSent) {
                    document.getElementById('successText').innerHTML = `Регистрация успешно завершена!<br>Письмо с подтверждением отправлено на ваш email.`;
                    document.getElementById('emailInstruction').style.display = 'block';
                    document.getElementById('loginDetails').style.display = 'none';
                    showToast('Регистрация завершена! Проверьте вашу почту.', 'success');
                } else {
                    document.getElementById('successText').innerHTML = `Регистрация успешно завершена!`;
                    document.getElementById('emailInstruction').style.display = 'none';
                    document.getElementById('loginDetails').style.display = 'block';
                    
                    if (emailError) {
                        showToast('Регистрация завершена, но письмо не отправлено. Сохраните данные для входа.', 'warning');
                    } else {
                        showToast('Регистрация успешно завершена!', 'success');
                    }
                }
                
            } catch (error) {
                console.error('❌ Критическая ошибка при регистрации:', error);
                
                let errorMessage = 'Ошибка при регистрации. Пожалуйста, попробуйте позже.';
                
                if (error.message) {
                    if (error.message.includes('уже существует')) {
                        errorMessage = 'Пользователь с таким email уже существует';
                    } else if (error.message.includes('структуры базы данных')) {
                        errorMessage = error.message;
                    } else if (error.message.includes('базы данных')) {
                        errorMessage = 'Ошибка соединения с базой данных';
                    } else if (error.message.includes('не инициализирована')) {
                        errorMessage = 'Системная ошибка. Пожалуйста, обновите страницу.';
                    }
                }
                
                showToast(errorMessage, 'error');
            } finally {
                // Восстанавливаем кнопку
                registerBtn.innerHTML = originalText;
                registerBtn.disabled = false;
            }
        }

        // Настройка обработчиков событий
        function setupEventListeners() {
            try {
                console.log('🔄 Настройка обработчиков событий...');
                
                // Мобильное меню
                const mobileMenuToggle = document.getElementById('mobileMenuToggle');
                const navMenu = document.querySelector('nav ul');
                
                if (mobileMenuToggle && navMenu) {
                    mobileMenuToggle.addEventListener('click', () => {
                        navMenu.style.display = navMenu.style.display === 'flex' ? 'none' : 'flex';
                    });
                }
                
                // Кнопки открытия регистрации
                const desktopRegisterBtn = document.getElementById('desktopRegisterBtn');
                const mobileRegisterBtn = document.getElementById('mobileRegisterBtn');
                
                if (desktopRegisterBtn) {
                    desktopRegisterBtn.addEventListener('click', openRegisterModal);
                }
                
                if (mobileRegisterBtn) {
                    mobileRegisterBtn.addEventListener('click', openRegisterModal);
                }
                
                // Кнопки закрытия модального окна
                const closeModalBtn = document.getElementById('closeModalBtn');
                const cancelRegisterBtn = document.getElementById('cancelRegisterBtn');
                const finishRegistrationBtn = document.getElementById('finishRegistrationBtn');
                
                if (closeModalBtn) {
                    closeModalBtn.addEventListener('click', closeRegisterModal);
                }
                
                if (cancelRegisterBtn) {
                    cancelRegisterBtn.addEventListener('click', closeRegisterModal);
                }
                
                if (finishRegistrationBtn) {
                    finishRegistrationBtn.addEventListener('click', closeRegisterModal);
                }
                
                // Кнопка регистрации
                const registerBtn = document.getElementById('registerBtn');
                if (registerBtn) {
                    registerBtn.addEventListener('click', registerUser);
                }
                
                // Проверка сложности пароля при вводе
                const passwordInput = document.getElementById('password');
                if (passwordInput) {
                    passwordInput.addEventListener('input', function() {
                        checkPasswordStrength(this.value);
                    });
                }
                
                // Закрытие модальных окон при клике вне их
                const registerModal = document.getElementById('registerModal');
                const policyModal = document.getElementById('policyModal');
                
                if (registerModal) {
                    registerModal.addEventListener('click', function(event) {
                        if (event.target === this) {
                            closeRegisterModal();
                        }
                    });
                }
                
                if (policyModal) {
                    policyModal.addEventListener('click', function(event) {
                        if (event.target === this) {
                            closePolicyModal();
                        }
                    });
                }
                
                // Закрытие модальных окон по Escape
                document.addEventListener('keydown', function(event) {
                    if (event.key === 'Escape') {
                        closeRegisterModal();
                        closePolicyModal();
                    }
                });
                
                // Закрытие тоста при клике
                const toast = document.getElementById('toast');
                if (toast) {
                    toast.addEventListener('click', function() {
                        this.style.display = 'none';
                    });
                }
                
                // Плавная прокрутка для навигации
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function(e) {
                        e.preventDefault();
                        const targetId = this.getAttribute('href');
                        if (targetId && targetId !== '#') {
                            const targetElement = document.querySelector(targetId);
                            if (targetElement) {
                                targetElement.scrollIntoView({
                                    behavior: 'smooth'
                                });
                            }
                        }
                    });
                });
                
                // Ссылки на политики в футере
                const privacyPolicyLink = document.getElementById('privacyPolicyLink');
                const userAgreementLink = document.getElementById('userAgreementLink');
                const riskWarningLink = document.getElementById('riskWarningLink');
                
                if (privacyPolicyLink) {
                    privacyPolicyLink.addEventListener('click', function(e) {
                        e.preventDefault();
                        openPolicyModal(PRIVACY_POLICY_TEXT, 'Политика конфиденциальности');
                    });
                }
                
                if (userAgreementLink) {
                    userAgreementLink.addEventListener('click', function(e) {
                        e.preventDefault();
                        openPolicyModal(USER_AGREEMENT_TEXT, 'Пользовательское соглашение');
                    });
                }
                
                if (riskWarningLink) {
                    riskWarningLink.addEventListener('click', function(e) {
                        e.preventDefault();
                        openPolicyModal(RISK_WARNING_TEXT, 'Предупреждение о рисках');
                    });
                }
                
                // Ссылки на политики в форме регистрации
                const showUserAgreementModal = document.getElementById('showUserAgreementModal');
                const showPrivacyPolicyModal = document.getElementById('showPrivacyPolicyModal');
                const showRiskWarningModal = document.getElementById('showRiskWarningModal');
                const closePolicyModalBtn = document.getElementById('closePolicyModalBtn');
                
                if (showUserAgreementModal) {
                    showUserAgreementModal.addEventListener('click', function(e) {
                        e.preventDefault();
                        openPolicyModal(USER_AGREEMENT_TEXT, 'Пользовательское соглашение');
                    });
                }
                
                if (showPrivacyPolicyModal) {
                    showPrivacyPolicyModal.addEventListener('click', function(e) {
                        e.preventDefault();
                        openPolicyModal(PRIVACY_POLICY_TEXT, 'Политика конфиденциальности');
                    });
                }
                
                if (showRiskWarningModal) {
                    showRiskWarningModal.addEventListener('click', function(e) {
                        e.preventDefault();
                        openPolicyModal(RISK_WARNING_TEXT, 'Предупреждение о рисках');
                    });
                }
                
                if (closePolicyModalBtn) {
                    closePolicyModalBtn.addEventListener('click', closePolicyModal);
                }
                
                console.log('✅ Обработчики событий настроены');
            } catch (error) {
                console.error('❌ Ошибка при настройке обработчиков событий:', error);
            }
        }

        // ============================
        // ИНИЦИАЛИЗАЦИЯ ПРИ ЗАГРУЗКЕ
        // ============================
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 GL Биржа загружается...');
            
            try {
                // Инициализируем приложения
                const initSuccess = initializeApplications();
                
                if (!initSuccess) {
                    console.error('❌ Не удалось инициализировать приложения');
                    showToast('Ошибка инициализации. Пожалуйста, обновите страницу.', 'error');
                    return;
                }
                
                // Настраиваем обработчики событий
                setupEventListeners();
                
                // Показываем информацию о загрузке
                console.log('✅ GL Биржа успешно загружена и готова к работе');
                console.log('📧 EmailJS настроен с Template ID:', EMAILJS_CONFIG.TEMPLATE_ID);
                console.log('🗄️ Supabase подключен к URL:', SUPABASE_CONFIG.URL);
                
                // Проверяем доступность Supabase
                setTimeout(async () => {
                    if (supabaseClient) {
                        try {
                            const { data, error } = await supabaseClient
                                .from('app_users')
                                .select('count', { count: 'exact', head: true });
                            
                            if (error) {
                                console.warn('⚠️ Supabase: проблемы с подключением:', error.message);
                            } else {
                                console.log('✅ Supabase: подключение установлено успешно');
                            }
                        } catch (testError) {
                            console.warn('⚠️ Supabase: тестовый запрос не удался:', testError.message);
                        }
                    }
                }, 1000);
                
            } catch (error) {
                console.error('❌ Критическая ошибка при загрузке:', error);
                showToast('Ошибка загрузки приложения. Пожалуйста, обновите страницу.', 'error');
            }
        });

        // Экспортируем глобальные функции для отладки
        window.GLExchange = {
            openRegisterModal,
            closeRegisterModal,
            registerUser,
            showToast,
            checkUserExists,
            getSupabaseClient: () => supabaseClient,
            isInitialized: () => isInitialized
        };
    </script>
</body>
</html>
